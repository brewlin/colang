package main

import fmt
import os

func string(){
    return func(){
        return "string00" + 100 + "string"
    }
}

func int(){
    return func(){
        a = 100
        a += 1
        return a
    }
}
func array(){
    return func(){
        arr = ["first",1,2]
        arr[] = "fourth"
        return arr
    }
}

func main(){
    fmt.println("closure test")
    a = string()
    if(a() != "string00100string"){
        fmt.println("[failed] closure a()!= string")
        os.exit(1)
    }
    fmt.println(a())

    b = int()
    if(b() != 101){
        fmt.println("[failed] closure b()!= 100")
        os.exit(1)
    }
    fmt.println(b())

    c = array()
    arr = c()
    if(arr[3] != "fourth"){
        fmt.println("[failed] closure c()!= foruth")
        os.exit(1)
    }
    fmt.println(arr)

    fmt.println("[pass] closure test")


}
